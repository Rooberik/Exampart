(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[11],{2748:function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return c})),s.d(t,"e",(function(){return i})),s.d(t,"d",(function(){return o}));const r=0,n=0,c=1;let i,o;!function(e){e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ENTER="Enter",e.TAB="Tab",e.ESCAPE="Escape"}(i||(i={})),function(e){e.SUGGESTIONS="suggestions",e.CATEGORIES="categories",e.PRODUCTS="products"}(o||(o={}))},2769:function(e,t,s){"use strict";s.d(t,"a",(function(){return X})),s.d(t,"b",(function(){return Z}));var r=s(1),n=s(20),c=s.n(n),i=s(142),o=s.n(i),a=s(7),u=s(11),g=s(31),d=s(15),l=s.n(d),b=s(9),m=s(206),O=s(87),S=s(712),h=s(606),p=s(63),j=s(149),f=s(364),v=s(490),A=(s(13),s(8)),P=s.n(A),x=s(79),I=s.n(x),E=s(3),T=s(29),y=s(2748),_=s(1251),R=s(1048),C=s(3312),N=s.n(C);s(7);const w=({title:e,url:t,thumb_image:s,isActive:n})=>{const c=Object(u.d)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(R.a,{classes:l()(N.a.SuggestionProductItem,{[N.a.SuggestionProductItemActive]:n}),to:t,onClick:()=>{c(v.a.setRedirectedFromNavMenu(!1))},"data-test-id":"typeAhead-suggestion-product-item-link",children:[Object(r.jsx)("div",{className:N.a.ProductImageWrapper,children:Object(r.jsx)(_.a,{source:s,alt:e,wrapperClasses:N.a.ProductImage})}),Object(r.jsx)("div",{className:N.a.ProductDescription,children:Object(r.jsx)(T.a,{size:"m","data-test-id":"typeAhead-suggestion-product-item-title",margin:"none",children:e})})]})})};var k=s(3311),D=s.n(k);s(7);function W(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function L(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?W(Object(s),!0).forEach((function(t){P()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):W(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const U=({products:e,fetchSuggestionsError:t,blurHandler:s,isSuggestionsActiveItems:n,getSuggestionActiveItemRef:i})=>!t&&!c()(e)&&Object(r.jsxs)("div",{className:D.a.ProductWrapper,children:[Object(r.jsx)(T.a,{el:"h3",size:"m",weight:"regular",margin:"none",classes:D.a.ProductTitle,children:Object(E.b)("search_autosuggest_products_title")}),Object(r.jsx)("ul",{className:D.a.Product,onBlur:e=>s&&s(e),children:e.map(((e,t)=>{let{pid:s}=e,c=I()(e,["pid"]);return Object(r.jsx)("li",{className:D.a.ProductItem,"data-test-id":"typeAhead-suggestion-product-item",ref:e=>{n(t,y.d.PRODUCTS)&&i(e)},children:Object(r.jsx)(w,L({isActive:n(t,y.d.PRODUCTS)},c))},s)}))})]});var G=s(3310),q=s.n(G);s(7);const{createSearchRoute:B}=j.h,F=({fetchSuggestionsError:e,categories:t,blurHandler:s,isSuggestionsActiveItems:n,getSuggestionActiveItemRef:i,searchTerm:o,handleSuggestionsCategoriesClick:a})=>!e&&!c()(t)&&Object(r.jsx)("ul",{className:q.a.SearchSuggestionsCategories,id:"search-suggestions-categories-id",onBlur:e=>s&&s(e),children:t.map(((e,t)=>Object(r.jsx)("li",{ref:e=>{n(t,y.d.CATEGORIES)&&i(e)},children:Object(r.jsx)(g.c,{to:B({searchTerm:o,category:e.value}),"data-test-id":"typeAhead-suggestion-category-item",onClick:a,className:l()(q.a.SuggestionsCategoriesItem,{[q.a.SuggestionsCategoriesItemActive]:n(t,y.d.CATEGORIES)}),children:"".concat(Object(E.b)("autosuggest_categorysuggestion")," ").concat(e.name)})},"".concat(e.name,"-").concat(t))))}),H=(e,t)=>{const s=e.indexOf(t),r=s+t.length;return{suggestionPreTermPart:e.slice(y.c,s),suggestionTermPart:e.slice(s,r),suggestionPostTermPart:e.slice(r)}},M=({index:e,categories:t,listElementOrderNumber:s})=>e!==y.b&&null!=t&&t.length?s+t.length:s,V=({listElementOrderNumber:e})=>e+y.a,K=({listElementOrderNumber:e,suggestions:t,categories:s})=>e+(null==t?void 0:t.length)+(null==s?void 0:s.length);var z=s(3309),J=s.n(z);const{createSearchRoute:Q}=j.h,X="search-suggestions-root-id",Y=(e,t)=>{const{suggestionTextParts:s,searchTermParts:n}=((e,t)=>{const s=t.trim().toLowerCase();return{suggestionTextParts:e.toLowerCase().split(" ").filter((e=>!!e)),searchTermParts:s.split(" ").filter((e=>!!e))}})(e,t),c=s.map(((e,t)=>{const c=t===s.length-1?"":" ";for(const t of n)if(e.includes(t)){const{suggestionPreTermPart:s,suggestionTermPart:n,suggestionPostTermPart:i}=H(e,t);return Object(r.jsxs)(r.Fragment,{children:[s,Object(r.jsx)("span",{style:{fontWeight:"normal"},children:n}),i+c]})}return e+c}));return Object(r.jsx)("div",{style:{fontWeight:"bold"},children:c})},Z=({blurHandler:e})=>{const t=Object(u.d)(),s=Object(u.e)(S.e),n=Object(u.e)(S.a),i=Object(u.e)(S.d),d=Object(u.e)(S.b),j=Object(u.e)(p.K),A=Object(u.e)(b.sd),P=Object(u.e)(m.e),x=Object(a.useRef)(null),[I,E]=Object(a.useState)(null),T=e=>{E((t=>(({suggestions:e,categories:t,products:s,prevSuggestionActiveIndex:r,isArrowUp:n,isSearchTypeAheadV2Enabled:c})=>{const i=c?(null==e?void 0:e.length)+(null==t?void 0:t.length)+(null==s?void 0:s.length):null==e?void 0:e.length;return n?r>y.b?--r:i:r<i?++r:y.b})({suggestions:s,categories:n,products:i,prevSuggestionActiveIndex:t,isArrowUp:e,isSearchTypeAheadV2Enabled:A})))};Object(a.useEffect)((()=>{E(y.b),t(O.b.setSelectedSuggestionsText(null))}),[s,n,i]),Object(a.useEffect)((()=>{I===y.b&&t(O.b.setSelectedSuggestionsText(null))}),[I]);const _=Object(a.useCallback)((e=>{e.key===y.e.ARROW_UP||e.key===y.e.ARROW_DOWN?(e.preventDefault(),e.stopPropagation(),T(e.key===y.e.ARROW_UP)):!c()(j)&&e.key===y.e.ENTER&&x.current?o()(x.current.children).click():e.key===y.e.TAB&&(t(O.b.setSelectedSuggestionsText(null)),E(null),A&&(x.current=null,t(f.b(!1))))}),[s,n,i,I]);Object(a.useEffect)((()=>(window.addEventListener("keydown",_),()=>{window.removeEventListener("keydown",_)})),[_]);const R=(e,r)=>{var c,i;const o=(({index:e,type:t,suggestions:s,categories:r,suggestionsFocusedItemIndex:n})=>{const c=e+y.a;return n==={suggestions:M,categories:V,products:K}[t]({index:e,suggestions:s,categories:r,listElementOrderNumber:c})})({index:e,type:r,suggestions:s,categories:n,suggestionsFocusedItemIndex:I}),a={suggestions:null===(c=s[e])||void 0===c?void 0:c.dq,categories:null===(i=s[y.b])||void 0===i?void 0:i.dq};return o&&t(O.b.setSelectedSuggestionsText(a[r]||null)),o},C=e=>{x.current=e};if(d||!s||!s.length)return null;const N=()=>{t(v.a.setRedirectedFromNavMenu(!1))},w=e=>{P&&e.preventDefault()};return Object(r.jsxs)("div",{className:J.a.SearchSuggestionsV2Wrapper,children:[Object(r.jsx)("ul",{className:J.a.SearchSuggestions,id:X,onBlur:t=>e&&e(t),children:s.map(((s,c)=>Object(r.jsxs)("li",{className:J.a.SuggestionItem,"data-test-id":"typeAhead-suggestion-item",ref:e=>{R(c,y.d.SUGGESTIONS)&&C(e)},children:[Object(r.jsx)(g.c,{to:Q({searchTerm:s.dq}),onMouseDown:w,onClick:()=>((e,s)=>{t(h.b.reportSearchSuggestionClickAnalytics(e,s)),t(O.b.setSelectedSuggestionsText(e)),t(v.a.setRedirectedFromNavMenu(!1))})(null==s?void 0:s.dq,c),"data-test-id":"typeAhead-suggestion-item-link",className:l()(J.a.SuggestionItemLink,{[J.a.SuggestionItemLinkActive]:R(c,y.d.SUGGESTIONS)}),children:Y(s.dq,j)}),c===y.b&&A&&Object(r.jsx)(F,{blurHandler:e,isSuggestionsActiveItems:R,getSuggestionActiveItemRef:C,fetchSuggestionsError:d,categories:n,searchTerm:s.dq,handleSuggestionsCategoriesClick:N})]},"".concat(s.dq,"-").concat(c))))}),A&&Object(r.jsx)(U,{blurHandler:e,isSuggestionsActiveItems:R,getSuggestionActiveItemRef:C,fetchSuggestionsError:d,products:i})]})}},3309:function(e,t,s){e.exports={SuggestionItem:"f2e5d7ac",SearchSuggestions:"bda8f644",SearchSuggestionsV2Wrapper:"e6397749",SuggestionItemLink:"_0c4216df",SuggestionItemLinkActive:"_2084a771"}},3310:function(e,t,s){e.exports={SuggestionsCategoriesItem:"_07a4436c",SuggestionsCategoriesItemActive:"f25c5c55",SearchSuggestionsCategories:"_9f3aff58"}},3311:function(e,t,s){e.exports={ProductWrapper:"_2eea967c",Product:"b027dffc",ProductItem:"c6118a84",ProductTitle:"_4f483227"}},3312:function(e,t,s){e.exports={SuggestionProductItem:"d0188c9a",SuggestionProductItemActive:"bbcc092e",ProductImageWrapper:"_97781b87",ProductImage:"f11b0e2a",ProductDescription:"ae0fa27b"}}}]);